<dialog data-autoshow id="dlg-my-stats">
  <div class="modal-card">
    <form method="dialog"><button class="modal-x" aria-label="Close">Ã—</button></form>
    <h2>Your stats</h2>
    <p class="modal-subtle">Lifetime performance.</p>
    <hr class="modal-divider" />
    {% set s = stats|default({}) %}
    {% if s and (s.games_played|default(0)) > 0 %}
      <table class="tbl" style="margin:8px 0">
        <thead>
          <tr>
            <th>Games</th>
            <th>Streak</th>
            <th>Total</th>
            <th>Avg</th>
            <th>Best</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>{{ s.games_played }}</td>
            <td>{{ s.streak }}</td>
            <td>{{ s.total_score }}</td>
            <td>{{ s.avg_score|round(1) }}</td>
            <td>{{ s.best_score }}</td>
          </tr>
        </tbody>
      </table>

    {% else %}
      <p class="modal-subtle">No games yet. Play a round to see your stats.</p>
    {% endif %}
    <div class="modal-actions">
      <form method="dialog"><button class="btn btn-primary">Close</button></form>
    </div>
  </div>
</dialog>
