<dialog data-autoshow id="dlg-my-stats">
  <style>
    @media (max-width: 480px) {
      .stats-grid {
        grid-template-columns: 1fr;
      }
    }
  </style>
  <div class="modal-card">
    <form method="dialog"><button class="modal-x" aria-label="Close">Ã—</button></form>
    <h2>Your stats</h2>
    <p class="modal-subtle">Lifetime performance.</p>
    <hr class="modal-divider" />
    {% set s = stats|default({}) %}
    {% if s and (s.games_played|default(0)) > 0 %}
      <div class="stats-grid" style="display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:12px;margin:8px 0">
        <div><div class="modal-subtle">GAMES</div><div style="font-weight:800">{{ s.games_played }}</div></div>
        <div><div class="modal-subtle">STREAK</div><div style="font-weight:800">{{ s.streak }}</div></div>
        <div><div class="modal-subtle">TOTAL</div><div style="font-weight:800">{{ s.total_score }}</div></div>
        <div><div class="modal-subtle">AVG</div><div style="font-weight:800">{{ s.avg_score|round(1) }}</div></div>
        <div><div class="modal-subtle">BEST</div><div style="font-weight:800">{{ s.best_score }}</div></div>
      </div>
    {% else %}
      <p class="modal-subtle">No games yet. Play a round to see your stats.</p>
    {% endif %}
    <div class="modal-actions">
      <form method="dialog"><button class="btn btn-primary">Close</button></form>
    </div>
  </div>
</dialog>
