<dialog data-autoshow id="dlg-leaderboard" data-role="leaderboard">
  <div class="modal-card">
    <form method="dialog"><button class="modal-x" aria-label="Close">Ã—</button></form>
    <h2>Leaderboard</h2>
    <p class="modal-subtle">Top players by total score.</p>
    <hr class="modal-divider" />
    {% set rows = leaders|default([]) %}
    {% if rows and rows|length > 0 %}
      <div style="max-height:60vh; overflow-y:auto; overflow-x:hidden;">
        <table class="tbl">
          <thead>
            <tr>
              <th>Rank</th>
              <th>Player</th>
              <th>Pts</th>
              <th>G</th>
            </tr>
          </thead>
          <tbody>
            {% for p in rows %}
              <tr>
                <td>{{ loop.index }}</td>
                <td>{{ p.name|default("Player") }}</td>
                <td>{{ p.score|default(0) }}</td>
                <td>{{ p.games|default(0) }}</td>
              </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    {% else %}
      <p class="modal-subtle">No scores yet. Be the first!</p>
    {% endif %}
    <div class="modal-actions">
      <form method="dialog"><button class="btn btn-primary">Close</button></form>
    </div>
  </div>
</dialog>
